<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>RF Driver</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
}

body{
  background:#000;
  color:#fff;
  height:100vh;
  overflow:hidden;
}

/* ================= HEADER ================= */

.header{
  height:70px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 20px;
  position:relative;
}

.toggle{
  width:120px;
  height:35px;
  background:#222;
  border-radius:30px;
  position:relative;
  cursor:pointer;
  display:flex;
  align-items:center;
  padding:5px;
}

.toggle span{
  position:absolute;
  width:50%;
  text-align:center;
  font-size:.8rem;
  font-weight:700;
}

.toggle .offline-text{
  left:0;
  color:#f87171;
}

.toggle .online-text{
  right:0;
  color:#22c55e;
}

.bola{
  width:30px;
  height:30px;
  background:#f87171;
  border-radius:50%;
  transition:.3s;
}

.toggle.ativo .bola{
  transform:translateX(85px);
  background:#22c55e;
}

/* ================= RADAR ================= */

.radar-container{
  position:absolute;
  top:70px;
  bottom:90px;
  left:0;
  right:0;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
}

.radar{
  width:220px;
  height:220px;
  border-radius:50%;
  border:2px solid rgba(250,204,21,.3);
  position:relative;
  animation:rotar 4s linear infinite;
}

.radar::before,
.radar::after{
  content:"";
  position:absolute;
  border-radius:50%;
  border:2px solid rgba(250,204,21,.3);
}

.radar::before{
  width:150px;
  height:150px;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
}

.radar::after{
  width:80px;
  height:80px;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
}

@keyframes rotar{
  from{ transform:rotate(0deg); }
  to{ transform:rotate(360deg); }
}

.texto-status{
  margin-top:25px;
  font-size:1.2rem;
  font-weight:600;
  color:#aaa;
}

/* ================= BOTTOM NAV ================= */

.bottom-nav{
  position:absolute;
  bottom:0;
  width:100%;
  height:70px;
  background:#111;
  display:flex;
  justify-content:space-around;
  align-items:center;
  border-top:1px solid #222;
}

.bottom-nav div{
  text-align:center;
  font-size:.75rem;
  color:#aaa;
}

/* ================= OVERLAY CORRIDA ================= */

.overlay{
  position:fixed;
  inset:0;
  background:#000;
  display:none;
  flex-direction:column;
  z-index:2000;
}

.mapa-topo{
  height:40%;
  background:linear-gradient(#1a1a1a,#000);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#facc15;
  font-weight:700;
}

.card{
  flex:1;
  background:#111;
  padding:25px;
  border-top-left-radius:25px;
  border-top-right-radius:25px;
}

.valor{
  font-size:2rem;
  font-weight:900;
  margin-bottom:15px;
}

.rota div{
  margin-bottom:10px;
  font-size:1rem;
}

.btn{
  width:100%;
  padding:15px;
  margin-top:20px;
  border:none;
  border-radius:30px;
  background:#facc15;
  color:#000;
  font-weight:900;
  font-size:1rem;
  cursor:pointer;
}

.contador{
  text-align:center;
  margin-top:15px;
  color:#888;
}
</style>
</head>

<body>

<div class="header">
  <div>â˜°</div>

  <div class="toggle" id="toggleStatus" onclick="alternarStatus()">
    <div class="bola"></div>
    <span class="offline-text">Offline</span>
    <span class="online-text">Online</span>
  </div>

  <div>âš™</div>
</div>

<div class="radar-container">
  <div class="radar"></div>
  <div class="texto-status" id="textoStatus">
    VocÃª estÃ¡ offline
  </div>
</div>

<div class="bottom-nav">
  <div>Pedidos</div>
  <div>Demanda</div>
  <div>Desempenho</div>
</div>

<!-- OVERLAY CORRIDA -->

<div class="overlay" id="overlayCorrida">
  <div class="mapa-topo">
    1.4 km â€¢ 6 min
  </div>

  <div class="card">
    <div class="valor">
      R$ <span id="valorCorrida">30</span>
    </div>

    <div class="rota">
      <div><strong>A</strong> Centro do Cabo</div>
      <div><strong>B</strong> Shopping Costa Dourada</div>
    </div>

    <button class="btn" onclick="aceitarCorrida()">
      ACEITAR POR R$ <span id="valorBtn">30</span>
    </button>

    <div class="contador">
      Tempo restante: <span id="tempo">15</span>s
    </div>
  </div>
</div>

<script>

let online = false;
let timer;
let tempoRestante = 15;

function alternarStatus(){
  const toggle = document.getElementById("toggleStatus");
  online = !online;

  if(online){
    toggle.classList.add("ativo");
    document.getElementById("textoStatus").innerText = "Procurando pedidos perto...";
    setTimeout(simularCorrida, 5000);
  } else {
    toggle.classList.remove("ativo");
    document.getElementById("textoStatus").innerText = "VocÃª estÃ¡ offline";
  }
}

function simularCorrida(){
  if(!online) return;

  document.getElementById("overlayCorrida").style.display = "flex";
  tocarSom();
  iniciarContador();
}

function iniciarContador(){
  tempoRestante = 15;
  document.getElementById("tempo").innerText = tempoRestante;

  timer = setInterval(()=>{
    tempoRestante--;
    document.getElementById("tempo").innerText = tempoRestante;

    if(tempoRestante <= 0){
      clearInterval(timer);
      fecharCorrida();
    }
  },1000);
}

function fecharCorrida(){
  document.getElementById("overlayCorrida").style.display = "none";
}

function aceitarCorrida(){
  clearInterval(timer);
  alert("Corrida aceita ðŸš•");
  fecharCorrida();
}

function tocarSom(){
  const audio = new Audio("sounds/notificacao.mp3");
  audio.play();
}

</script>

</body>
</html>
